{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/Person.js","App.js","index.js"],"names":["Filter","filterHandler","onChange","PersonForm","newName","nameHandler","number","numberHandler","clickHandler","value","type","onClick","Persons","searchedPersons","deleteHandler","map","person","key","name","data-key","id","Notification","message","error","className","URL","getAll","a","axios","get","res","data","createPerson","post","updatePerson","changes","put","deletePerson","delete","App","useState","persons","setPersons","setNewName","setNumber","filteredPerson","setFilteredPerson","setMessage","setError","useEffect","backendServices","fetchPersons","filter","toLowerCase","match","e","target","currNames","currNumbers","trimmedStr","trim","includes","find","el","changedPerson","window","confirm","updatedPerson","setTimeout","alert","Math","floor","random","preventDefault","parseInt","parentNode","dataset","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.51bc15d0.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ filterHandler }) => {\n\treturn (\n\t\t<div>\n\t\t\tfilter shown with <input onChange={filterHandler} />\n\t\t</div>\n\t)\n}\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = ({\n\tnewName,\n\tnameHandler,\n\tnumber,\n\tnumberHandler,\n\tclickHandler,\n}) => {\n\treturn (\n\t\t<>\n\t\t\t<form>\n\t\t\t\t<div>\n\t\t\t\t\tname: <input value={newName} onChange={nameHandler} />\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\tnumber: <input value={number} onChange={numberHandler} />\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<button type='submit' onClick={clickHandler}>\n\t\t\t\t\t\tadd\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</>\n\t)\n}\n\nexport default PersonForm\n","import React from 'react'\n\nconst Persons = ({ searchedPersons, deleteHandler }) => {\n\treturn (\n\t\t<>\n\t\t\t{searchedPersons.map((person) => (\n\t\t\t\t<p key={person.name} data-key={person.id}>\n\t\t\t\t\t{person.name} {person.number}{' '}\n\t\t\t\t\t<button type='button' onClick={deleteHandler}>\n\t\t\t\t\t\tdelete\n\t\t\t\t\t</button>\n\t\t\t\t</p>\n\t\t\t))}\n\t\t</>\n\t)\n}\n\nexport default Persons\n","import React from 'react'\n\nconst Notification = ({ message, error, className }) => {\n\tif (error && className !== 'hidden') {\n\t\treturn <div className='error'>{message}</div>\n\t} else if (!error && className !== 'hidden') {\n\t\treturn <div className='success'>{message}</div>\n\t} else {\n\t\treturn <></>\n\t}\n}\n\nexport default Notification\n","import axios from 'axios'\n\nconst URL = '/api/persons'\n\nconst getAll = async () => {\n\tconst res = await axios.get(URL)\n\treturn res.data\n}\n\nconst createPerson = async (person) => {\n\tconst res = await axios.post(URL, person)\n\treturn res.data\n}\n\nconst updatePerson = async (id, changes) => {\n\tconst res = await axios.put(`${URL}/${id}`, changes)\n\treturn res.data\n}\n\nconst deletePerson = async (id) => {\n\treturn await axios.delete(`${URL}/${id}`)\n}\n\nexport default {\n\tgetAll,\n\tcreatePerson,\n\tupdatePerson,\n\tdeletePerson,\n}\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\n\nimport backendServices from './services/Person'\n\nconst App = () => {\n\tconst [persons, setPersons] = useState([])\n\tconst [newName, setNewName] = useState('')\n\tconst [number, setNumber] = useState('')\n\tconst [filteredPerson, setFilteredPerson] = useState('')\n\tconst [message, setMessage] = useState('')\n\tconst [error, setError] = useState(false)\n\n\tuseEffect(() => {\n\t\tconst fetchPersons = async () => {\n\t\t\tconst data = await backendServices.getAll()\n\t\t\tsetPersons(data)\n\t\t}\n\n\t\tfetchPersons()\n\t}, [])\n\n\tconst nameHandler = (e) => {\n\t\tsetNewName(e.target.value)\n\t}\n\n\tconst numberHandler = (e) => {\n\t\tsetNumber(e.target.value)\n\t}\n\n\tconst clickHandler = (e) => {\n\t\tconst currNames = persons.map((person) => person.name)\n\t\tconst currNumbers = persons.map((person) => person.number)\n\t\tconst trimmedStr = newName.trim()\n\n\t\tif (!currNames.includes(trimmedStr) && !currNumbers.includes(number)) {\n\t\t\tconst person = {\n\t\t\t\tname: trimmedStr,\n\t\t\t\tnumber: number,\n\t\t\t\tid: Math.floor(Math.random() * 1000),\n\t\t\t}\n\n\t\t\tbackendServices.createPerson(person)\n\n\t\t\tsetPersons([...persons, person])\n\n\t\t\tsetError(false)\n\t\t\tsetMessage(`${trimmedStr} was added in the phonebook!`)\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetMessage('')\n\t\t\t}, 3500)\n\t\t} else if (\n\t\t\tcurrNames.includes(trimmedStr) &&\n\t\t\t!currNumbers.includes(number)\n\t\t) {\n\t\t\tconst id = persons.find((el) => el.name === trimmedStr).id\n\t\t\tconst person = persons.find((el) => el.id === id)\n\t\t\tlet changedPerson = { ...person, number: number }\n\n\t\t\tlet result = window.confirm(\n\t\t\t\t`${trimmedStr} is already added to phonebook, replace the old number with a new one?`\n\t\t\t)\n\n\t\t\tif (result) {\n\t\t\t\ttry {\n\t\t\t\t\tconst updatedPerson = backendServices.updatePerson(\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tchangedPerson\n\t\t\t\t\t)\n\n\t\t\t\t\tsetPersons([\n\t\t\t\t\t\t...persons.map((el) =>\n\t\t\t\t\t\t\tel.id !== id ? el : updatedPerson\n\t\t\t\t\t\t),\n\t\t\t\t\t])\n\n\t\t\t\t\tsetError(false)\n\t\t\t\t\tsetMessage(\n\t\t\t\t\t\t`${trimmedStr}'s number was successfully updated.`\n\t\t\t\t\t)\n\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetMessage('')\n\t\t\t\t\t}, 3500)\n\t\t\t\t} catch (error) {\n\t\t\t\t\tsetError(true)\n\t\t\t\t\tsetMessage(\n\t\t\t\t\t\t`Information of ${trimmedStr} has already been removed from the server.`\n\t\t\t\t\t)\n\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetMessage('')\n\t\t\t\t\t}, 3500)\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\talert(`${trimmedStr} is already added in the phonebook`)\n\t\t}\n\n\t\tsetNewName('')\n\t\tsetNumber('')\n\n\t\te.preventDefault()\n\t}\n\n\tconst deleteHandler = (e) => {\n\t\tconst key = parseInt(e.target.parentNode.dataset.key)\n\t\tconst name = persons.find((el) => el.id === key).name\n\n\t\tlet result = window.confirm(`Delete ${name} ?`)\n\n\t\tif (result) {\n\t\t\tbackendServices.deletePerson(key)\n\n\t\t\tsetPersons([...persons.filter((el) => el.id !== key)])\n\n\t\t\tsetError(false)\n\t\t\tsetMessage(`${name} was successfully deleted from the server.`)\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetMessage('')\n\t\t\t}, 3500)\n\t\t}\n\t}\n\n\tconst filterHandler = (e) => {\n\t\tsetFilteredPerson(e.target.value.toLowerCase())\n\t}\n\n\tconst searchedPersons =\n\t\tfilteredPerson !== ''\n\t\t\t? persons.filter((person) =>\n\t\t\t\t\tperson.name.toLowerCase().match('^' + filteredPerson)\n\t\t\t  )\n\t\t\t: persons\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phonebook</h2>\n\t\t\t<Notification\n\t\t\t\tmessage={message}\n\t\t\t\terror={error}\n\t\t\t\tclassName={message === '' ? 'hidden' : ''}\n\t\t\t/>\n\t\t\t<Filter filterHandler={filterHandler} />\n\t\t\t<h3>Add a new</h3>\n\t\t\t<PersonForm\n\t\t\t\tnewName={newName}\n\t\t\t\tnameHandler={nameHandler}\n\t\t\t\tnumber={number}\n\t\t\t\tnumberHandler={numberHandler}\n\t\t\t\tclickHandler={clickHandler}\n\t\t\t/>\n\t\t\t<h3>Numbers</h3>\n\t\t\t<Persons\n\t\t\t\tsearchedPersons={searchedPersons}\n\t\t\t\tdeleteHandler={deleteHandler}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n)\n"],"sourceRoot":""}